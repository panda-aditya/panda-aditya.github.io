/* styles.css - includes light/dark theme variables and toggle styles */

/* Basic resets */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }

/* Theme variables for light mode (default) */
:root{
  --bg: #fff6f8;
  --page-bg: radial-gradient(circle at 10% 10%, #fff0f3 0%, #fff6f8 40%);
  --card: #fff;
  --accent: #ff7aa2;
  --accent-2: #ffd1dc;
  --muted: #7b6f77;
  --text: #66233b;
  --shadow: 0 8px 30px rgba(120,90,110,0.08);
  --control-bg: rgba(255,255,255,0.6);
  --control-color: #7a213f;
}

/* Dark theme overrides */
body.dark {
  --bg: #071018;
  --page-bg: radial-gradient(circle at 10% 10%, rgba(8,12,18,0.5) 0%, #071018 40%);
  --card: linear-gradient(180deg, #071621, #071018);
  --accent: #ff9fb5;
  --accent-2: #ff7aa2;
  --muted: #9aa7b2;
  --text: #ffdfe8;
  --shadow: 0 10px 30px rgba(0,0,0,0.5);
  --control-bg: rgba(255,255,255,0.06);
  --control-color: #ffdfe8;
}

/* Page layout */
.page{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: var(--page-bg);
  padding: 2rem;
  transition: opacity .35s ease, filter .35s ease, background .35s ease;
}

/* Card */
.card{
  width:100%;
  max-width:520px;
  background: var(--card);
  border-radius:20px;
  padding:2.25rem;
  text-align:center;
  box-shadow: var(--shadow);
  position: relative;
  overflow: visible;
  transition: opacity .35s ease, transform .35s ease, visibility .35s, background .35s ease;
  color: var(--text);
}

/* Top controls (theme toggle) */
.top-controls {
  position: absolute;
  right: 16px;
  top: 14px;
  display: flex;
  gap: 8px;
  z-index: 10;
}

/* Theme toggle button */
.theme-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 8px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.04);
  background: var(--control-bg);
  color: var(--control-color);
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(100,70,85,0.06);
  transition: background .18s ease, color .18s ease, transform .12s ease;
}
.theme-toggle:focus { outline: 3px solid rgba(255,150,180,0.22); transform: translateY(-2px); }
.theme-toggle:hover { transform: translateY(-2px); }

/* Icons visibility based on theme */
.theme-toggle .icon-moon { display: none; }
body.dark .theme-toggle .icon-sun { display: none; }
body.dark .theme-toggle .icon-moon { display: inline-block; }

/* Heading */
.heading{
  margin:0 0 0.25rem;
  font-size:1.65rem;
  letter-spacing: -0.01em;
}

/* Subtle text */
.subtle{
  margin:0 0 1.5rem;
  color:var(--muted);
  font-size:0.95rem;
}

/* Buttons */
.buttons{
  display:flex;
  gap:1rem;
  justify-content:center;
  align-items:center;
  margin-bottom:1.25rem;
}
.btn{
  border: none;
  padding:0.95rem 1.6rem;
  font-size:1.05rem;
  border-radius:14px;
  cursor:pointer;
  min-width:120px;
  transition: transform .15s ease, box-shadow .15s ease, background .18s ease, color .18s ease;
  box-shadow: 0 6px 18px rgba(100,70,85,0.06);
  user-select:none;
  outline: none;
}
.btn-yes{
  background: linear-gradient(180deg, var(--accent-2), var(--accent));
  color: #5b1128;
  font-weight:700;
}
body.dark .btn-yes { color: #2b0b1a; }
.btn-no{
  background: var(--card);
  color: var(--text);
  border: 2px solid rgba(139,59,86,0.07);
}

/* Hover and focus */
.btn:focus,
.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(110,70,90,0.12);
}

/* rest of styles unchanged... */
/* Footer */
.footer{
  margin-top:1.5rem;
  font-size:0.85rem;
  color:var(--muted);
}

/* Screen reader only */
.sr-only{
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* Confetti canvas covers viewport */
#confetti-canvas{
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1100;
}

/* CELEBRATION OVERLAY - hidden by default */
.celebration-overlay{
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity .3s ease, visibility .3s;
  z-index: 1200;
}

/* When active: show overlay */
.celebration-overlay.show{
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  background: radial-gradient(circle at center, rgba(255, 244, 247, 0.95) 0%, rgba(255, 248, 250, 0.96) 100%);
}
body.dark .celebration-overlay.show {
  background: rgba(6,10,14,0.92);
}

/* Central celebrate card (minimal) */
.celebrate-card{
  background: transparent;
  padding: 1rem 2rem;
  border-radius: 12px;
  text-align: center;
  z-index: 1210;
}

/* Popping text */
.celebrate-text{
  margin: 0;
  font-size: clamp(2.1rem, 5vw, 3.4rem);
  color: var(--text);
  transform: scale(0.9);
  opacity: 0;
  transition: transform .45s cubic-bezier(.2,.9,.25,1), opacity .28s ease;
  text-shadow: 0 8px 30px rgba(120,60,90,0.08);
  pointer-events:none;
}
.celebration-overlay.show .celebrate-text {
  transform: scale(1.12);
  opacity: 1;
  animation: popIn .6s ease forwards;
}
@keyframes popIn {
  0% { transform: scale(0.6); opacity: 0; filter: blur(6px); }
  50% { transform: scale(1.25); opacity: 1; filter: blur(0); }
  100% { transform: scale(1); opacity: 1; filter: none; }
}

/* Decorative elements, countdown, heart and other styles remain the same */
/* ... (rest of the CSS from previous styles.css kept unchanged) */

/* Decorative elements around centre */
.decor{
  position: absolute;
  will-change: transform, opacity;
  opacity: 0;
  transform: translateY(10px) scale(0.98);
  transition: transform .6s ease, opacity .6s ease;
  z-index: 1220;
}
.celebration-overlay.show .decor { opacity: 1; transform: translateY(0) scale(1); }
.decor--a { left: 6%; top: 12%; animation: floatA 6s ease-in-out infinite; }
.decor--b { right: 8%; top: 18%; animation: floatB 5.5s ease-in-out infinite; }
.decor--c { left: 20%; bottom: 12%; animation: floatC 7s ease-in-out infinite; }
@keyframes floatA { 0% { transform: translateY(0) rotate(-2deg); } 50% { transform: translateY(-14px) rotate(2deg); } 100% { transform: translateY(0) rotate(-2deg); } }
@keyframes floatB { 0% { transform: translateY(0) rotate(4deg); } 50% { transform: translateY(-10px) rotate(-4deg); } 100% { transform: translateY(0) rotate(4deg); } }
@keyframes floatC { 0% { transform: translateY(0) rotate(-3deg); } 50% { transform: translateY(-12px) rotate(3deg); } 100% { transform: translateY(0) rotate(-3deg); } }

/* Hide background/card when in celebration mode (fade) */
.body-celebrate .page { opacity: 0; filter: blur(2px) grayscale(.02); pointer-events: none; }
.body-celebrate .card { opacity: 0; visibility: hidden; transform: scale(0.98); pointer-events: none; }

/* COUNTDOWN + HEART */
.countdown{
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  bottom: 12%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1215;
  text-align: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity .25s ease, transform .25s ease;
}
.celebration-overlay.show .countdown { opacity: 1; transform: translateX(-50%) translateY(0); }

.heart-wrap { width: 160px; height: 150px; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.pop-heart { transform-origin: 50% 50%; transition: transform .35s cubic-bezier(.2,.9,.25,1), opacity .22s ease; filter: drop-shadow(0 8px 20px rgba(120,60,90,0.08)); }
.pop-heart.grow { transform: scale(1.18); }
.pop-heart.pop { transform: scale(1.6); opacity: 0; transition: transform .22s ease, opacity .22s ease; }

.count-display { font-size: 2.4rem; font-weight: 700; color: var(--text); letter-spacing: -0.02em; text-shadow: 0 6px 18px rgba(120,60,90,0.06); }
.count-note { color: var(--muted); font-size: 0.95rem; }

/* responsive tweaks */
@media (max-width:420px){
  .card { padding:1.5rem; border-radius:16px; }
  .heading { font-size:1.35rem; }
  .buttons { gap:0.6rem; flex-direction:column; }
  .btn { width:100%; min-width:unset; }
  .heart-wrap { width: 120px; height: 100px; }
  .count-display { font-size: 1.8rem; }
  .decor--a, .decor--b, .decor--c { display: none; }
}
